{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>{% block title %}{% if seo_settings %}{{ seo_settings.page_title }}{% else %}Aarushi Salon - Best Beauty Service{% endif %}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}{% if seo_settings %}{{ seo_settings.meta_description }}{% else %}Professional beauty salon services including hair styling, makeup, skincare, massage, and more at Aarushi Salon{% endif %}{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}{% if seo_settings %}{{ seo_settings.meta_keywords }}{% else %}beauty salon, hair styling, makeup, skincare, massage, threading, waxing, facial, manicure, pedicure{% endif %}{% endblock %}">
    
    <!-- Canonical URL -->
    {% if seo_settings and seo_settings.canonical_url %}
    <link rel="canonical" href="{{ seo_settings.canonical_url }}">
    {% endif %}
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="{% if seo_settings and seo_settings.og_title %}{{ seo_settings.og_title }}{% else %}{% if seo_settings %}{{ seo_settings.page_title }}{% else %}Aarushi Salon - Best Beauty Service{% endif %}{% endif %}">
    <meta property="og:description" content="{% if seo_settings and seo_settings.og_description %}{{ seo_settings.og_description }}{% else %}{% if seo_settings %}{{ seo_settings.meta_description }}{% else %}Professional beauty salon services including hair styling, makeup, skincare, massage, and more at Aarushi Salon{% endif %}{% endif %}">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    {% if seo_settings and seo_settings.og_image %}
    <meta property="og:image" content="{{ request.build_absolute_uri }}{{ seo_settings.og_image.url }}">
    {% endif %}
    <meta property="og:site_name" content="{% if site_settings %}{{ site_settings.site_name }}{% else %}Aarushi Salon{% endif %}">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% if seo_settings and seo_settings.twitter_title %}{{ seo_settings.twitter_title }}{% else %}{% if seo_settings %}{{ seo_settings.page_title }}{% else %}Aarushi Salon - Best Beauty Service{% endif %}{% endif %}">
    <meta name="twitter:description" content="{% if seo_settings and seo_settings.twitter_description %}{{ seo_settings.twitter_description }}{% else %}{% if seo_settings %}{{ seo_settings.meta_description }}{% else %}Professional beauty salon services including hair styling, makeup, skincare, massage, and more at Aarushi Salon{% endif %}{% endif %}">
    {% if seo_settings and seo_settings.twitter_image %}
    <meta name="twitter:image" content="{{ request.build_absolute_uri }}{{ seo_settings.twitter_image.url }}">
    {% endif %}
    
    <!-- Structured Data -->
    {% if seo_settings and seo_settings.schema_markup %}
    <script type="application/ld+json">
    {{ seo_settings.schema_markup|safe }}
    </script>
    {% endif %}

    <!-- Favicon -->
    <link rel="icon" href="{% static 'img/favicon.svg' %}" type="image/svg+xml">
    <link rel="shortcut icon" href="{% static 'img/favicon.svg' %}" type="image/svg+xml">
    <link rel="apple-touch-icon" href="{% static 'img/logo.png' %}">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Playfair+Display:wght@500&family=Work+Sans&display=swap" rel="stylesheet">

    <!-- Icon Fonts -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries CSS -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/lightbox/css/lightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Bootstrap & Template CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/salon-theme.css' %}" rel="stylesheet">
    <!-- Perfect Cut Theme CSS -->
    <link href="{% static 'css/perfectcut.css' %}" rel="stylesheet">
    <!-- Dynamic Theme CSS -->
    <link href="{% url 'salon:dynamic_theme_css' %}" rel="stylesheet">
    <!-- Remove Button Borders CSS -->
    <link href="{% static 'css/remove-button-borders.css' %}" rel="stylesheet">

    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Spinner -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" style="width:3rem; height:3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>

    <!-- Navbar -->
    <div class="container-fluid bg-light sticky-top p-0">
        <nav class="navbar navbar-expand-lg navbar-light p-0">
            <a href="{% url 'salon:home' %}" class="navbar-brand bg-primary py-4 px-5 me-0 d-flex align-items-center">
                {% if theme_settings and theme_settings.logo %}
                    <img src="{{ theme_settings.logo.url }}" alt="{{ site_settings.site_name|default:'Aarushi Salon' }}" height="40" class="me-3">
                {% else %}
                    <img src="{% static 'img/logo.png' %}" alt="{{ site_settings.site_name|default:'Aarushi Salon' }}" height="40" class="me-3">
                {% endif %}
                <div>
                    <h1 class="mb-0 text-white">{{ site_settings.site_name|default:'Aarushi Salon' }}</h1>
                    <small class="text-white-50">{{ site_settings.site_tagline|default:'Beauty & Wellness' }}</small>
                </div>
            </a>
            <button class="navbar-toggler me-4" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse p-3" id="navbarCollapse">
                <div class="navbar-nav mx-auto">
                    <a href="{% url 'salon:home' %}" class="nav-item nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">Home</a>
                    <a href="" class="nav-item nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}">About</a>
                    <a href="{% url 'salon:services' %}" class="nav-item nav-link {% if request.resolver_match.url_name == 'services' %}active{% endif %}">Services</a>
                    <a href="{% url 'salon:pricing' %}" class="nav-item nav-link {% if request.resolver_match.url_name == 'pricing' %}active{% endif %}">Pricing</a>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
                        <div class="dropdown-menu bg-light mt-2">
                            <a href="" class="dropdown-item">Photo Gallery</a>
                            <a href="" class="dropdown-item">Beauty Blog</a>
                            <a href="" class="dropdown-item">Our Team</a>
                            <a href="" class="dropdown-item">Testimonials</a>
                        </div>
                    </div>
                    <a href="{% url 'salon:contact' %}" class="nav-item nav-link {% if request.resolver_match.url_name == 'contact' %}active{% endif %}">Contact</a>
                </div>
                <div class="d-flex">
                    {% if contact_info %}
                        {% if contact_info.facebook_url %}
                        <a class="btn btn-primary btn-sm-square me-3" href="{{ contact_info.facebook_url }}" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        {% endif %}
                        {% if contact_info.instagram_url %}
                        <a class="btn btn-primary btn-sm-square me-3" href="{{ contact_info.instagram_url }}" target="_blank"><i class="fab fa-instagram"></i></a>
                        {% endif %}
                        {% if contact_info.linkedin_url %}
                        <a class="btn btn-primary btn-sm-square" href="{{ contact_info.linkedin_url }}" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                        {% endif %}
                    {% else %}
                        <a class="btn btn-primary btn-sm-square me-3" href="#"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-primary btn-sm-square me-3" href="#"><i class="fab fa-instagram"></i></a>
                        <a class="btn btn-primary btn-sm-square" href="#"><i class="fab fa-linkedin-in"></i></a>
                    {% endif %}
                </div>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    {% block content %}{% endblock %}

    <!-- Footer -->
    <div class="container-fluid footer position-relative bg-dark text-white-50 py-5 wow fadeIn" data-wow-delay="0.2s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-6 pe-lg-5">
                    <a href="{% url 'salon:home' %}" class="navbar-brand d-flex align-items-center">
                        <img src="{% static 'img/logo.png' %}" alt="Aarushi Salon" height="50" class="me-3">
                        <div>
                            <h1 class="display-5 text-primary mb-0">Aarushi Salon</h1>
                            <small class="text-white-50">Beauty & Wellness</small>
                        </div>
                    </a>
                    <p>Our certified therapists provide the highest level of service, fully customized to your needs.</p>
                    {% if contact_info %}
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-2"></i>{{ contact_info.address }}</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-2"></i>{{ contact_info.phone }}</p>
                    <p><i class="fa fa-envelope me-2"></i>{{ contact_info.email }}</p>
                    {% else %}
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-2"></i>123 Street, New York, USA</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-2"></i>+012 345 67890</p>
                    <p><i class="fa fa-envelope me-2"></i>info@aarushisalon.com</p>
                    {% endif %}
                </div>
                <div class="col-lg-6 ps-lg-5">
                    <div class="row g-4">
                        <div class="col-sm-6">
                            <h5 class="text-primary mb-4">Quick Links</h5>
                            <a class="btn btn-link" href="{% url 'salon:about' %}">About Us</a>
                            <a class="btn btn-link" href="{% url 'salon:contact' %}">Contact Us</a>
                            <a class="btn btn-link" href="{% url 'salon:services' %}">Our Services</a>
                            <a class="btn btn-link" href="{% url 'salon:pricing' %}">Pricing</a>
                        </div>
                        <div class="col-sm-6">
                            <h5 class="text-primary mb-4">Popular Links</h5>
                            <a class="btn btn-link" href="{% url 'salon:gallery' %}">Gallery</a>
                            <a class="btn btn-link" href="{% url 'salon:blog' %}">Blog</a>
                            <a class="btn btn-link" href="{% url 'salon:team' %}">Our Team</a>
                            <a class="btn btn-link" href="{% url 'salon:testimonials' %}">Testimonials</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'lib/wow/wow.min.js' %}"></script>
    <script src="{% static 'lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'lib/waypoints/waypoints.min.js' %}"></script>
    <script src="{% static 'lib/counterup/counterup.min.js' %}"></script>
    <script src="{% static 'lib/lightbox/js/lightbox.min.js' %}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>

    {% block extra_js %}{% endblock %}
    
    <!-- Google Analytics and Tracking Code -->
    {% if analytics %}
        <!-- Google Analytics 4 (gtag.js) -->
        {% if analytics.gtag_id %}
        <script async src="https://www.googletagmanager.com/gtag/js?id={{ analytics.gtag_id }}"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '{{ analytics.gtag_id }}');
        </script>
        {% endif %}
        
        <!-- Google Analytics Universal (analytics.js) -->
        {% if analytics.tracking_id %}
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', '{{ analytics.tracking_id }}', 'auto');
            ga('send', 'pageview');
        </script>
        {% endif %}
        
        <!-- Google Tag Manager -->
        {% if analytics.google_tag_manager_id %}
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','{{ analytics.google_tag_manager_id }}');</script>
        {% endif %}
        
        <!-- Facebook Pixel -->
        {% if analytics.facebook_pixel_id %}
        <script>
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
            n.queue=[];t=b.createElement(e);t.async=!0;
            t.src=v;s=b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t,s)}(window, document,'script',
            'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '{{ analytics.facebook_pixel_id }}');
            fbq('track', 'PageView');
        </script>
        <noscript><img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id={{ analytics.facebook_pixel_id }}&ev=PageView&noscript=1"
        /></noscript>
        {% endif %}
        
        <!-- Custom Tracking Code -->
        {% if analytics.custom_tracking_code %}
        {{ analytics.custom_tracking_code|safe }}
        {% endif %}
        
        <!-- Custom Body Code -->
        {% if analytics.custom_body_code %}
        {{ analytics.custom_body_code|safe }}
        {% endif %}
    {% endif %}
</body>

</html>
